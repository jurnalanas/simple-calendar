{"version":3,"sources":["index.js"],"names":["cal","mName","data","sDay","sMth","sYear","sMon","list","parseInt","document","getElementById","value","daysInMth","Date","getDate","startDay","getDay","endDay","localStorage","getItem","setItem","JSON","parse","squares","blanks","i","push","container","cTable","createElement","id","innerHTML","appendChild","cRow","cCell","days","shift","d","classList","add","total","length","cCell2","addEventListener","el","console","log","show","close","getElementsByClassName","tForm","eForm","save","evt","stopPropagation","preventDefault","stringify","del","confirm","window","now","nowMth","getMonth","nowYear","getFullYear","month","opt","selected","year","querySelectorAll","forEach","row"],"mappings":"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","file":"src.38be29ff.js","sourceRoot":"../src","sourcesContent":["import './styles.scss'\n\nvar cal = {\n  /* [PROPERTIES] */\n  mName: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"], // Month Names\n  data: null, // Events for the selected period\n  sDay: 0, // Current selected day\n  sMth: 0, // Current selected month\n  sYear: 0, // Current selected year\n  sMon: true, // Week start on Monday?\n\n  /* [FUNCTIONS] */\n  list: function () {\n    // cal.list() : draw the calendar for the given month\n\n    // BASIC CALCULATIONS\n    // Note - Jan is 0 & Dec is 11 in JS.\n    // Note - Sun is 0 & Sat is 6\n    cal.sMth = parseInt(document.getElementById(\"cal-mth\").value); // selected month\n    cal.sYear = parseInt(document.getElementById(\"cal-yr\").value); // selected year\n    var daysInMth = new Date(cal.sYear, cal.sMth + 1, 0).getDate(), // number of days in selected month\n      startDay = new Date(cal.sYear, cal.sMth, 1).getDay(), // first day of the month\n      endDay = new Date(cal.sYear, cal.sMth, daysInMth).getDay(); // last day of the month\n\n    // LOAD DATA FROM LOCALSTORAGE\n    cal.data = localStorage.getItem(\"cal-\" + cal.sMth + \"-\" + cal.sYear);\n    if (cal.data == null) {\n      localStorage.setItem(\"cal-\" + cal.sMth + \"-\" + cal.sYear, \"{}\");\n      cal.data = {};\n    } else {\n      cal.data = JSON.parse(cal.data);\n    }\n\n    // DRAWING CALCULATIONS\n    // Determine the number of blank squares before start of month\n    var squares = [];\n    if (cal.sMon && startDay != 1) {\n      var blanks = startDay == 0 ? 7 : startDay;\n      for (var i = 1; i < blanks; i++) {\n        squares.push(\"b\");\n      }\n    }\n    if (!cal.sMon && startDay != 0) {\n      for (var i = 0; i < startDay; i++) {\n        squares.push(\"b\");\n      }\n    }\n\n    // Populate the days of the month\n    for (var i = 1; i <= daysInMth; i++) {\n      squares.push(i);\n    }\n\n    // Determine the number of blank squares after end of month\n    if (cal.sMon && endDay != 0) {\n      var blanks = endDay == 6 ? 1 : 7 - endDay;\n      for (var i = 0; i < blanks; i++) {\n        squares.push(\"b\");\n      }\n    }\n    if (!cal.sMon && endDay != 6) {\n      var blanks = endDay == 0 ? 6 : 6 - endDay;\n      for (var i = 0; i < blanks; i++) {\n        squares.push(\"b\");\n      }\n    }\n\n    // DRAW HTML\n    // Container & Table\n    var container = document.getElementById(\"cal-container\"),\n      cTable = document.createElement(\"table\");\n    cTable.id = \"calendar\";\n    container.innerHTML = \"\";\n    container.appendChild(cTable);\n\n    // First row - Days\n    var cRow = document.createElement(\"tr\"),\n      cCell = null,\n      days = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thur\", \"Fri\", \"Sat\"];\n    if (cal.sMon) {\n      days.push(days.shift());\n    }\n    for (var d of days) {\n      cCell = document.createElement(\"td\");\n      cCell.innerHTML = d;\n      cRow.appendChild(cCell);\n    }\n    cRow.classList.add(\"head\");\n    cTable.appendChild(cRow);\n\n    // Days in Month\n    var total = squares.length;\n    cRow = document.createElement(\"tr\");\n    cRow.classList.add(\"day\");\n    for (let i = 0; i < total; i++) {\n      let cCell2 = document.createElement(\"td\");\n      if (squares[i] == \"b\") {\n        cCell2.classList.add(\"blank\");\n      } else {\n        cCell2.innerHTML = \"<div class='dd'>\" + squares[i] + \"</div>\";\n        if (cal.data[squares[i]]) {\n          cCell2.innerHTML += \"<div class='evt'>\" + cal.data[squares[i]] + \"</div>\";\n        }\n        cCell2.addEventListener(\"click\", function (el) {\n          console.log(\"s\")\n          cal.show(el);\n        });\n        cRow.appendChild(cCell2);\n      }\n      if (i != 0 && (i + 1) % 7 == 0) {\n        cTable.appendChild(cRow);\n        cRow = document.createElement(\"tr\");\n        cRow.classList.add(\"day\");\n      }\n    }\n\n    // REMOVE ANY ADD/EDIT EVENT DOCKET\n    cal.close();\n  },\n\n  show: function (el) {\n    // cal.show() : show edit event docket for selected day\n    // PARAM el : Reference back to cell clicked\n\n    // FETCH EXISTING DATA\n    cal.sDay = el.getElementsByClassName(\"dd\")[0].innerHTML;\n\n    // DRAW FORM\n    var tForm = \"<h1>\" + (cal.data[cal.sDay] ? \"EDIT\" : \"ADD\") + \" EVENT</h1>\";\n    tForm += \"<div id='evt-date'>\" + cal.sDay + \" \" + cal.mName[cal.sMth] + \" \" + cal.sYear + \"</div>\";\n    tForm += \"<textarea id='evt-details' required>\" + (cal.data[cal.sDay] ? cal.data[cal.sDay] : \"\") + \"</textarea>\";\n    tForm += \"<input type='button' value='Close' onclick='cal.close()'/>\";\n    tForm += \"<input type='button' value='Delete' onclick='cal.del()'/>\";\n    tForm += \"<input type='submit' value='Save'/>\";\n\n    // ATTACH\n    var eForm = document.createElement(\"form\");\n    eForm.addEventListener(\"submit\", cal.save);\n    eForm.innerHTML = tForm;\n    var container = document.getElementById(\"cal-event\");\n    container.innerHTML = \"\";\n    container.appendChild(eForm);\n  },\n\n  close: function () {\n    // cal.close() : close event docket\n\n    document.getElementById(\"cal-event\").innerHTML = \"\";\n  },\n\n  save: function (evt) {\n    // cal.save() : save event\n\n    evt.stopPropagation();\n    evt.preventDefault();\n    cal.data[cal.sDay] = document.getElementById(\"evt-details\").value;\n    localStorage.setItem(\"cal-\" + cal.sMth + \"-\" + cal.sYear, JSON.stringify(cal.data));\n    cal.list();\n  },\n\n  del: function () {\n    // cal.del() : Delete event for selected date\n\n    if (confirm(\"Remove event?\")) {\n      delete cal.data[cal.sDay];\n      localStorage.setItem(\"cal-\" + cal.sMth + \"-\" + cal.sYear, JSON.stringify(cal.data));\n      cal.list();\n    }\n  }\n};\n\n// INIT - DRAW MONTH & YEAR SELECTOR\nwindow.addEventListener(\"load\", function () {\n  // DATE NOW\n  var now = new Date(),\n    nowMth = now.getMonth(),\n    nowYear = parseInt(now.getFullYear());\n\n  // APPEND MONTHS SELECTOR\n  var month = document.getElementById(\"cal-mth\");\n  for (var i = 0; i < 12; i++) {\n    var opt = document.createElement(\"option\");\n    opt.value = i;\n    opt.innerHTML = cal.mName[i];\n    if (i == nowMth) {\n      opt.selected = true;\n    }\n    month.appendChild(opt);\n  }\n\n  // APPEND YEARS SELECTOR\n  // Set to 10 years range. Change this as you like.\n  var year = document.getElementById(\"cal-yr\");\n  for (var i = nowYear - 10; i <= nowYear + 10; i++) {\n    var opt = document.createElement(\"option\");\n    opt.value = i;\n    opt.innerHTML = i;\n    if (i == nowYear) {\n      opt.selected = true;\n    }\n    year.appendChild(opt);\n  }\n\n  // START - DRAW CALENDAR\n  document.getElementById(\"cal-set\").addEventListener(\"click\", cal.list);\n\n  cal.list();\n  const makan = document.querySelectorAll('td');\n  makan.forEach(row => row.addEventListener('click', function (el) {\n    console.log('hmm')\n    console.log(el);\n  }));\n});\n"]}